# Blog-Server

<<<<<<< Updated upstream
=======
### ëª©ì°¨

[ìš”êµ¬ ì‚¬í•­ ](## ìš”êµ¬ì‚¬í•­)

[ERD](## ERD)

[REST API](## REST API)

[í•„ìˆ˜ê³¼ì œ](## í•„ìˆ˜ê³¼ì œ)

[My Issue](## My Issue)

[ì¸ì¦/ì¸ê°€ ](##ì¸ì¦, ì¸ê°€)

[CORS]( ##CORS)



## ìš”êµ¬ì‚¬í•­

>>>>>>> Stashed changes
1. íšŒì› ê°€ì… í˜ì´ì§€
   - ë‹‰ë„¤ì„ì€ `ìµœì†Œ 3ì ì´ìƒ, ì•ŒíŒŒë²³ ëŒ€ì†Œë¬¸ì(a~z, A~Z), ìˆ«ì(0~9)`ë¡œ êµ¬ì„±í•˜ê¸°
   - ë¹„ë°€ë²ˆí˜¸ëŠ” `ìµœì†Œ 4ì ì´ìƒì´ë©°, ë‹‰ë„¤ì„ê³¼ ê°™ì€ ê°’ì´ í¬í•¨ëœ ê²½ìš° íšŒì›ê°€ì…ì— ì‹¤íŒ¨`ë¡œ ë§Œë“¤ê¸°
   - ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì€ ë¹„ë°€ë²ˆí˜¸ì™€ ì •í™•í•˜ê²Œ ì¼ì¹˜í•˜ê¸°
2. ë¡œê·¸ì¸ í˜ì´ì§€
   - ë¡œê·¸ì¸ ë²„íŠ¼ì„ ëˆ„ë¥¸ ê²½ìš° ë‹‰ë„¤ì„ê³¼ ë¹„ë°€ë²ˆí˜¸ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡ëëŠ”ì§€ í™•ì¸í•œ ë’¤, í•˜ë‚˜ë¼ë„ ë§ì§€ ì•ŠëŠ” ì •ë³´ê°€ ìˆë‹¤ë©´ "ë‹‰ë„¤ì„ ë˜ëŠ” íŒ¨ìŠ¤ì›Œë“œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”"ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ë„ìš¸ ìˆ˜ ìˆê²Œ ì˜ˆì™¸ ì²˜ë¦¬í•œë‹¤.
3. ë¡œê·¸ì¸ ê²€ì‚¬
   - ë¡œê·¸ì¸ í•˜ì§€ ì•Šì€ ì‚¬ìš©ìë„, ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒëŠ” ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸°
   - ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìê°€ ì¢‹ì•„ìš” ë²„íŠ¼ì„ ëˆŒë €ì„ ê²½ìš°, "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤." ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ë„ìš¸ ìˆ˜ ìˆê²Œ ì˜ˆì™¸ ì²˜ë¦¬í•œë‹¤.
   - ë¡œê·¸ì¸ í•œ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í˜ì´ì§€ ë˜ëŠ” íšŒì›ê°€ì… í˜ì´ì§€ì— ì ‘ì†í•œ ê²½ìš° "ì´ë¯¸ ë¡œê·¸ì¸ì´ ë˜ì–´ìˆìŠµë‹ˆë‹¤."ë¼ëŠ” ë©”ì„¸ì§€ë¡œ ì˜ˆì™¸ ì²˜ë¦¬í•˜ê¸°
   - ì¸ì¦ ì¸ê°€ë¥¼ ì–´ë–¤ ê°œë…(Token/Session)ì„ ì±„íƒ í–ˆëŠ”ì§€, ê·¸ ì´ìœ ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê¸°
4. CORS í•´ê²°í•˜ê¸°
   - CORSë€ ë¬´ì—‡ì´ë©°, ì–´ë–¤ ìƒí™©ì—ì„œ ì¼ì–´ë‚˜ëŠ”ì§€ / ì–´ë–»ê²Œ í•´ê²°í•˜ëŠ”ì§€ ì•Œì•„ë³´ê³ , í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê¸°
5. ì¢‹ì•„ìš” ìˆœ ì •ë ¬(ì •ë ¬í•˜ê¸°ëŠ” ê¼­ í•´ë´ì•¼ í•˜ëŠ” ê±´ë° ê³¼ì œì— ì—†ë‹¤)
   - ì •ë ¬ ê¸°ì¤€ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!
     - ìƒì„±ì¼ ìˆœ
     - ì¢‹ì•„ìš” ìˆœ
     - view ìˆœ



<<<<<<< Updated upstream
###  DTOê°€ ê¸¸ì–´ì§„ë‹¤
=======
## ERD

[ë…¸ì…˜ ë§í¬](https://teamsparta.notion.site/4-c4ddea873ddd41ad94bd215f2743598c)

![dd](https://user-images.githubusercontent.com/17975647/173787724-fa53b884-848d-469f-a4de-aef047f6c57b.png)







## REST API

- [ë…¸ì…˜ ë§í¬](https://teamsparta.notion.site/4-c4ddea873ddd41ad94bd215f2743598c)

| ë¶„ë¥˜   | ê¸°ëŠ¥          | Method | Endpoint                  | request | response_true | resposne_false |
| ------ | ------------- | ------ | ------------------------- | ------- | ------------- | -------------- |
| ê²Œì‹œê¸€ | ëª©ë¡ ê°€ì ¸ì˜¤ê¸° | GET    | /api/posts                | - | {<br/> result:[boolean]<br/> code:[Long]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} |
|        | ê²Œì‹œê¸€ ì¶”ê°€   | POST   | /api/posts                | {<br />user[User],<br />post {<br />user_id:[Long],<br />title:[String],<br />content:[Text],<br />image_url:[String],<br />template:[â€™Leftâ€™,'Right','Center']<br />}<br />} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} |
|        | ì´ë¯¸ì§€ ì¶”ê°€   | POST   | /api/image                | {<br />image:[MultipartFile]<br />} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} |
|        | ê²Œì‹œê¸€ ì¡°íšŒ   | GET    | /api/posts/{postId}       | -                                                            | **ì²¨ë¶€ #1**<br />ë°”ë¡œ ì•„ë˜ë¥¼ ì°¸ê³  | {<br/> result:[boolean]<br/> code:[Long]<br/>} |
|        | ê²Œì‹œê¸€ ì‚­ì œ   | DELETE | /api/comments/{commentId} | - | {<br/> result:[boolean]<br/> code:[Long]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} |
|        | ê²Œì‹œê¸€ ìˆ˜ì •   | PUT    | /api/comments/{commentId} | {<br/>post_id:[Long],<br/>content:[String]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
| ëŒ“ê¸€   | ëŒ“ê¸€ ì¶”ê°€     | POST   | /api/comments/{postId}    | {<br/>post_id:[Long],<br/>content_id:[Long]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
|        | ëŒ“ê¸€ ì‚­ì œ     | DELETE | /api/comments/{commentId} | - | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
|        | ëŒ“ê¸€ ìˆ˜ì •     | PUT    | /api/comments/{commentId} | {<br/> user_id:[token],<br/> post_id:[Long],<br/> comment_id[Long],<br/> content:[String]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
| ì¢‹ì•„ìš” | ê²Œì‹œê¸€ ì¢‹ì•„ìš” | POST   | /api/posts/{postId}/like  | {<br/> user_id:[token],<br/> post_id:[Long]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
| íšŒì›   | íšŒì›ê°€ì…      | POST   | /api/register             | {<br/>name:[String]<br/>nickname:[String]<br/>email:[String]<br/>password:{String]<br/>introduce:[String]<br/>profile_image_url:[String]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
|        | ë¡œê·¸ì¸        | POST   | /api/login                | {<br/>email:[String]<br/>password:[String]<br/>} | {<br/> result:[boolean]<br/> code:[Long]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |
|        | íšŒì›ì •ë³´ ì¡°íšŒ | GET    | /api/user                 | - | {<br/> name:[String],<br/> nickname:[String],<br/> email:[String],<br/> introduce:[String],<br/> profile_image_url:[String],<br/> createdAt:[Datetime]<br/>} | { <br />result:[boolean],<br />code: [Long] <br />} |



#### ì²¨ë¶€ #1 : ê²Œì‹œê¸€ ì¡°íšŒì˜ Response_true



```json
{
result : [boolean],
post : 
    {
     nickname:[String]
     post_id : [Long],
     title [String],
     content : [String],
     image_url : [String],
     like_by_me : [boolean],
     like_count : [Long],
     view_count : [Long],
     created_at : [Datetime],
     modified_at : [Datetime],
	 template:[â€™Leftâ€™|â€™Rightâ€™|â€™Centerâ€™]
} [List]
comment :
	{
     comment_id:[Long],
     content:[String],
     createdAt:[Datetime],
     modifiedAt:[Datetime],
     }
}
```



## í•„ìˆ˜ê³¼ì œ

- **í”„ë ˆì„ì›Œí¬ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì°¨ì´ì ** ğŸ‘‰ ì œì–´ íë¦„ì— ëŒ€í•œ ì£¼ë„ì„±ì´ ëˆ„êµ¬ì—ê²Œ/ì–´ë””ì— ìˆëŠ”ê°€ì— ë”°ë¼ ë‹¤ë¥´ë‹¤
  - í”„ë ˆì„ì›Œí¬
    - ë¼ˆëŒ€ë‚˜ ê¸°ë°˜ êµ¬ì¡°ë¥¼ ëœ»í•˜ê³ , ì œì–´ì˜ ì—­ì „ ê°œë…ì´ ì ìš©ëœ ëŒ€í‘œì ì¸ ê¸°ìˆ 
    - íŠ¹ì • ê°œë…ë“¤ì˜ ì¶”ìƒí™”ë¥¼ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ í´ë˜ìŠ¤ë‚˜ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„± (ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì¬ì‚¬ìš© ê°€ëŠ¥)
  - ë¼ì´ë¸ŒëŸ¬ë¦¬
    - ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‹¨ìˆœ í™œìš© ê°€ëŠ¥í•œ ë„êµ¬ë“¤ì˜ ì§‘í•©
    - ê°œë°œìê°€ ë§Œë“  í´ë˜ìŠ¤ì—ì„œ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©
    - í´ë˜ìŠ¤ë“¤ì˜ ë‚˜ì—´ë¡œ í•„ìš”í•œ í´ë˜ìŠ¤ë¥¼ ë¶ˆëŸ¬ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
- ì½”ë“œë¥¼ êµ¬í˜„í•  ë•Œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë¬´ì—‡ì„ í–ˆë‚˜ìš”?
  - ì˜ˆì™¸ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ì— ëŒ€í•´ ìƒê°í•´ ë³´ê³ , êµ¬í˜„ ë°©ì‹ì„ ìƒê°í–ˆë‹¤.
    - ì˜ˆì™¸ ìƒí™©ì€ ì„œë²„ì—ì„œë„ ë§ì´ ë°œìƒí•˜ì§€ë§Œ, ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ê°’ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ë¥¼ ìƒê°í–ˆë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´, íšŒì›ê°€ì…í•˜ë ¤ëŠ” ì‚¬ëŒì´ ê³µë°±ì„ ì…ë ¥í•˜ê±°ë‚˜, ì•„ì´ë””ì— íŠ¹ìˆ˜ ë¬¸ìê°€ ë“¤ì–´ì™€ ì²˜ë¦¬ê°€ ì–´ë ¤ì›Œì§€ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•´ ì£¼ì—ˆë‹¤.
  - ì €ë²ˆ ê³¼ì œì™€ ë§ˆì°¬ê°€ì§€ë¡œ í”„ë¡œì íŠ¸ ì „ì—­ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ë¥¼ ì¡ëŠ” RestControllerAdviceë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.

- Restfulì´ë€?
  - â€œRepresentational State Transferâ€ ì˜ ì•½ì
  - ë¶„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„ë¥¼ ìœ„í•œ ì œì•½ ì¡°ê±´ì˜ ì§‘í•©
  - HTTP URI(Uniform Resource Identifier)ë¥¼ í†µí•´ ìì›(Resource)ì„ ëª…ì‹œí•˜ê³ , HTTP Method(POST, GET, PUT, DELETE)ë¥¼ í†µí•´ í•´ë‹¹ ìì›ì— ëŒ€í•œ CRUD Operationì„ ì ìš©í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
  - **ìì›ì˜ í‘œí˜„ì— ì˜í•œ ìƒíƒœ ì „ë‹¬**
- ì™œ Restfulí•˜ê²Œ ì§œì•¼í•˜ë‚˜ìš”?
  - ìµœê·¼ì˜ ì„œë²„ í”„ë¡œê·¸ë¨ì€ ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ì—ì„œë„ í†µì‹ ì„ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
    ì´ëŸ¬í•œ ë©€í‹° í”Œë«í¼ì— ëŒ€í•œ ì§€ì›ì„ ìœ„í•´ ì„œë¹„ìŠ¤ ìì›ì— ëŒ€í•œ ì•„í‚¤í…ì²˜ë¥¼ ì„¸ìš°ê³  ì´ìš©í•˜ëŠ” ë°©ë²•ì„ ëª¨ìƒ‰í•œ ê²°ê³¼, RESTì— ê´€ì‹¬ì„ ê°€ì§€ê²Œ ë˜ì—ˆë‹¤.
- Restfulì˜ ì¥/ë‹¨ì 
  - ì¥ì  : 
    - HTTP í”„ë¡œí† ì½œì˜ ì¸í”„ë¼ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ REST API ì‚¬ìš©ì„ ìœ„í•œ ë³„ë„ì˜ ì¸í”„ë¼ë¥¼ êµ¬ì¶œí•  í•„ìš”ê°€ ì—†ë‹¤.
    - HTTP í‘œì¤€ í”„ë¡œí† ì½œì— ë”°ë¥´ëŠ” ëª¨ë“  í”Œë«í¼ì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
    - REST API ë©”ì‹œì§€ê°€ ì˜ë„í•˜ëŠ” ë°”ë¥¼ ëª…í™•í•˜ê²Œ ë‚˜íƒ€ë‚´ë¯€ë¡œ ì˜ë„í•˜ëŠ” ë°”ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.
  - ë‹¨ì 
    - í‘œì¤€ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤
    - ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œê°€ 4ê°€ì§€ì´ê¸° ë•Œë¬¸ì— í˜•íƒœê°€ ì œí•œì ì´ë‹¤
- Restfulì˜ ëŒ€ì•ˆì€?
  - GraphQL
    - GraphQLì€ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤(API)ë¥¼ ìœ„í•œ ì¿¼ë¦¬ ì–¸ì–´ì´ë‹¤
    -  GraphQLì—ì„œëŠ” APIì„œë²„ì—ì„œ ì—„ê²©í•˜ê²Œ ì •ì˜ëœ endpoint ë“¤ì— ìš”ì²­í•˜ëŠ” ëŒ€ì‹ , í•œë²ˆì˜ ìš”ì²­ìœ¼ë¡œ ì •í™•íˆ ê°€ì ¸ì˜¤ê³  ì‹¶ì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ì¿¼ë¦¬ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.
    - GraphQLì—ì„œëŠ” URLì„ Resourceë¥¼ íŠ¹ì • ì§“ëŠ” ê²ƒì— ì‚¬ìš©í•˜ì§€ ì•Šê³  GraphQL Schemaê°€ Resourceë¥¼ íŠ¹ì • ì§“ëŠ”ë‹¤.
    - HTTP Methodë¡œ ì–´ë–¤ ì‘ì—…ì„ ì§„í–‰í•˜ê²Œ ë˜ëŠ”ì§€ êµ¬ë¶„í•˜ì§€ ì•Šê³ , Query, Mutationì´ë¼ëŠ” íƒ€ì…ì„ ì‚¬ìš©í•´ êµ¬ë¶„í•œë‹¤.
- Restfulí•˜ê²Œ ì§œê¸° ìœ„í•´ ë¬´ì—‡ì„ ê³ ë ¤í–ˆë‚˜ìš”?
  - ê°ê°ì˜ ì—”ë“œí¬ì¸íŠ¸ê°€ ìì›ì„ ëŒ€í‘œí•˜ê³  í–‰ìœ„ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆë‹¤.
  - í˜„ì¬ ```/api``` ë¥¼ ë¹¼ì•¼ í• ì§€ ê³ ë¯¼ì¤‘ì´ë‹¤
- Entity ì„¤ê³„ë¥¼ ìœ„í•´ ë¬´ì—‡ì„ í•˜ì˜€ë‚˜ìš”? ì—°ê´€ê´€ê³„ì— ê·¼ê±°í•˜ì—¬ ì„¤ëª…í•´ì£¼ì„¸ìš”.
  - ìœ„ì— ì²¨ë¶€í•œ ERDê°€ ì„¤ê³„ ê²°ê³¼ì´ë©°,
    - User-Like = 1:N ğŸ‘‰ ìœ ì €ëŠ” ë‹¤ì–‘í•œ ê²Œì‹œë¬¼ì— Likeë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤
    - User-Post = 1:N ğŸ‘‰ ìœ ì €ëŠ” ë§ì€ ê²Œì‹œë¬¼ì„ ì‘ì„± ê°€ëŠ¥í•˜ë‹¤ 
    - Post-Like = 1:N  ğŸ‘‰ í•˜ë‚˜ì˜ í¬ìŠ¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ê°œì˜ ì¢‹ì•„ìš”ê°€ ë‹¬ë¦´ ìˆ˜ ìˆë‹¤.
    - Post-Comment = 1:N ğŸ‘‰ í¬ìŠ¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ ëŒ“ê¸€ì´ ë‹¬ë¦´ ìˆ˜ ìˆë‹¤.
    - User-Comment : 1:N ğŸ‘‰ ìœ ì €ëŠ” ì—¬ëŸ¬ê°œì˜ ëŒ“ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
  - ì—¬ê¸°ì„œ LikeëŠ” ë§ˆì¹˜ Userì™€ Postì‚¬ì´ì— ë¼ì–´ ìƒê¸´ ë¶€ì‚°ë¬¼ ê°™ì€ ëŠë‚Œì´ë¼ Post-Userë¥¼ M:Nìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤
  - JPAì—ì„œëŠ” M:Nì„ ë‹¤ëŒ€ì¼&ì¼ëŒ€ë‹¤ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒ ê°™ë‹¤.



## ì¸ì¦, ì¸ê°€

#### ì¸ì¦

- ìœ ì €ê°€ ëˆ„êµ¬ì¸ì§€ í™•ì¸í•˜ëŠ” ì ˆì°¨ì´ë‹¤ - ì–´ë–¤ ê°œì²´(ì‚¬ìš©ì ë˜ëŠ” ì¥ì¹˜)ì˜ ì‹ ì›ì„ í™•ì¸í•˜ëŠ” ê³¼ì •

- ì˜ˆ) íšŒì›ê°€ì…í•˜ê³  ë¡œê·¸ì¸ í•˜ëŠ” ê²ƒ.



#### ì¸ê°€

- ìœ ì €ì— ëŒ€í•œ ê¶Œí•œì„ í—ˆë½í•˜ëŠ” ê²ƒ.

- ì–´ë–¤ ê°œì²´ê°€ ì–´ë–¤ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ ë˜ëŠ” ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ê²€ì¦í•˜ëŠ” ê²ƒ

  

ì´ ì¤‘ ì„œë²„ì˜ ë¶€ë‹´ì´ ì ê³  ì¸ê°€ê°€ ìˆ˜ì›”í•œ JWTë¥¼ ì„ íƒí•˜ì˜€ë‹¤.



#### JWTì˜ ì¥ì  

- ê²€ì¦í•˜ê¸° ìœ„í•œ DBê°€ ë”°ë¡œ í•„ìš”í•˜ì§€ ì•Šë‹¤.
- ìƒì„±ëœ í† í°ì„ ì¶”ì í•  í•„ìš”ê°€ ì—†ë‹¤
- íŠ¸ë˜í”½ì— ëŒ€í•œ ë¶€ë‹´ì´ ë‚®ìŒ
- ë°ì´í„°ë¥¼ ì‚¬ì¸í•˜ê³ , ìœ ì €ì—ê²Œ ë³´ë‚´ê³  ë°ì´í„°ë¥¼ ëŒë ¤ë°›ì„ ë•Œ ìœ íš¨ì„±ì„ ê²€ì¦í•œë‹¤



## CORS

**(Cross-Origin Resource Sharing,CORS)** ë€ ë‹¤ë¥¸ ì¶œì²˜ì˜ ìì›ì„ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ëŠ” ê¶Œí•œ ì²´ì œì´ë‹¤

ë”°ë¼ì„œ **CORS**ë¥¼ ì„¤ì •í•´ì£¼ì§€ ì•Šê±°ë‚˜ ì œëŒ€ë¡œ ì„¤ì •í•˜ì§€ ì•Šì€ ê²½ìš°, ì›í•˜ëŠ”ëŒ€ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ê³µìœ í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤.

Spring Bootì—ì„œ CORS ì„¤ì •í•˜ê¸°

1. Configuration ì ìš©í•˜ê¸°
2. Annotation Controllerì— ë¶™ì´ê¸° ```@CrossOrigin(origins = "*", allowedHeaders = "*")```

ì—ì„œ ì¢€ ë” ê°„ë‹¨í•œ 2ë²ˆì„ ì„ íƒí•˜ì—¬ êµ¬í˜„í•˜ì˜€ë‹¤. ì•„ì§ ê²€ì¦í•´ ë³´ì§€ ì•Šì•„ì„œ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ 1ë²ˆì˜ ë°©ë²•ìœ¼ë¡œ ìˆ˜ì •í•  ì˜ˆì •ì´ë‹¤.



## My Issue
>>>>>>> Stashed changes

ìˆ˜ë§ì€ DTO.. 
ì·¨í–¥ ì°¨ì´ì¼ ê²ƒ ê°™ë‹¤.
staticì„ ì§€ì–‘í•´ì•¼ í•  ê²ƒ ê°™ê¸°ë„ í•˜ê³  ë‚˜ëŠ” ëª¨ë¥´ê² ë”°~~

### DTOì— Setterê°€ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤

### ResponseBodyì˜ ê²€ì¦
[ì°¸ê³ ë§í¬](https://velog.io/@gillog/Valid%EB%A1%9C-RequestBody-%EA%B2%80%EC%A6%9D%ED%95%98%EA%B8%B0)



### ì˜ˆì™¸ ì²˜ë¦¬

<<<<<<< Updated upstream
### CORS
=======
ì˜ˆì™¸ ì²˜ë¦¬ëŠ” ì „ê³¼ ê°™ì´ RestControllerAdviceë¥¼ ì‚¬ìš©í–ˆë‹¤. 

RestControllerAdviceë¥¼ ì‚¬ìš©í•œ ì „ë°˜ì ì¸ ì˜ˆì™¸ ì²˜ë¦¬

```java
@RestControllerAdvice
public class GlobalExceptionHandler extends ResponseEntityExceptionHandler {
    @ExceptionHandler(value = BlogException.class)
    protected ResponseEntity<ErrorResponse> handleCustomException(BlogException e) {
        log.error("handleCustomException throw CustomException : {}", e.getErrorCode());
        return ErrorResponse.toResponseEntity(e.getErrorCode());
    }
```



ì§ì ‘ êµ¬í˜„í•œ Validator

```java
@ResponseStatus(HttpStatus.UNAUTHORIZED)
public static void validateLoginUser(User user, ErrorCode code) {
    if (user == null) {
        throw new BlogException(code);
    }
}

@ResponseStatus(HttpStatus.LOCKED)
public static void alreadyLoggedIn(User user, ErrorCode code) {
    if (user != null) {
        throw new BlogException(code);
    }
}
```



ë” ë§ì€ ì˜ˆì™¸ê°€ ìˆì„ ê²ƒ ê°™ì€ë° ì‹œê°„ì´ ì´‰ë°•í•´ì„œ ì»¤ë²„í•˜ì§€ ëª»í–ˆë‹¤! ì‹œê°„ì´ ë˜ë©´ ë‹¤ìŒ ê³¼ì œë¥¼ ì§„í–‰í•˜ë©´ì„œ ë” êµ¬í˜„í•´ë³´ê³  ì‹¶ë‹¤



### JPQL

```java
@Modifying
@Query("update Post p set p.view_count = p.view_count + 1 where p.id = :id")
void updateView(Long id);

@Modifying
@Query("update Post p set p.likeCount = p.likeCount + :value where p.id = :id")
void updateLikeCount(Long id, Long value);
```

ì¿¼ë¦¬ì˜ ì–‘ì´ ë” ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì„ í”¼í•˜ê³ ì JPQLë¡œ Repositoryì— ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•´ ë³´ì•˜ë‹¤.

ì•ìœ¼ë¡œ ì“¸ ì¼ì´ ë§ì•„ì„œ ë” ìµí˜€ë‘¬ì•¼ í•  ê²ƒ ê°™ë‹¤.





## ë” í•´ì•¼í•  ê²ƒ

ì—°ê´€ê´€ê³„ê°€ ëŠ˜ì–´ë‚˜ë©´ì„œ ì¿¼ë¦¬ë¬¸ì´ ëŠ˜ì–´ë‚˜ê³  ì‹¬ì§€ì–´ëŠ” N+1 ë¬¸ì œê°€ ì¼ì–´ë‚˜ê¸°ë„ í•œë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” 

- Fetch Join
- Lazy Loading
>>>>>>> Stashed changes

### ì–‘ë°©í–¥ì„ í•˜ê³  ë§ê³ 

### ì—”í‹°í‹°ë¥¼ ì™¸ë¶€ì— ë…¸ì¶œí•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤
ì´ì „ ê³¼ì œì—ì„œëŠ” ì—”í‹°í‹°ë¥¼ ê·¸ëŒ€ë¡œ ì™¸ë¶€ì— ë…¸ì¶œí–ˆë‹¤
APIê°€ í•„ìš”ë¡œí•˜ëŠ” í•„ë“œë§Œ ë½‘ì•„ì„œ DTOë¥¼ ë§Œë“¤ì–´ ë³´ì!

### Serviceì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
ì„œë¹„ìŠ¤ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì„œë¡œ ê·¼ì ‘í•´ìˆëŠ” ì˜ì—­ì´ê¸° ë•Œë¬¸ì— ì—­í•  ë¶„ë¦¬ê°€ ëª¨í˜¸í•˜ë‹¤.
serviceì—ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë“¤ì–´ê°„ë‹¤ê³  í•˜ëŠ”ë°, 



ì¸ì¦ ì¸ê°€ë¥¼ ì–´ë–¤ ê°œë…(Token/Session)ì„ ì±„íƒ í–ˆëŠ”ì§€, ê·¸ ì´ìœ ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ê¸°